module picklr.docker.Container

import "../Resource.pkl" as Core

class Container extends Core.Resource {
  provider = "docker"
  type = "docker_container"

  /// The ID of the image to run.
  image: String

  /// The command to run in the container.
  command: Listing<String>?

  /// Port mappings (Host -> Container).
  ports: Mapping<String, Int>?

  /// Environment variables.
  env: Mapping<String, String>?

  /// Networks to attract to
  networks: Listing<String>?

  properties = new {
    ["image"] = image

    ["command"] = command
    ["ports"] = ports
    ["env"] = env
    ["networks"] = networks
    ["volumes"] = volumes
  }

  /// Volumes to mount. Format: "volume_name:/target/path" or "/host/path:/container/path"
  volumes: Listing<String>?
}
